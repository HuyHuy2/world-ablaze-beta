FRA_imperial_actions = {
	FRA_the_emperor_finishes_training = {
		available = {

		}
		cost = 0
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = emperor_trains_finish }
		}

		complete_effect = {
			remove_ideas = FRA_emperor_military_training_idea
			hidden_effect = {
				add_to_variable = {
					var = trainingpips
					value = 100
				}
				set_country_flag = emperor_trains_finish
			}
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 50

				check_variable = {
					var = trainingpips
					value = 4
					compare = greater_than
				}
			}
		}
	}

	FRA_the_emperor_trains_attack = {
		available = {

		}
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
		}
		cost = 0
		custom_cost_trigger = {
			command_power > 35
		}
		visible = {
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = attack2 }
			check_variable = {
				var = trainingpips
				value = 5
				compare = less_than
			}
		}
		custom_cost_text = custom_cost_35_cp

		days_remove = 45

		complete_effect = {
			hidden_effect = {
				add_command_power = -35
				set_country_flag = emperor_trains
			}
		}

		remove_effect = {
			every_unit_leader = {
				limit = {
					has_id = 104 #Napoleon
				}
				add_attack = 1
			}
			hidden_effect = {
				clr_country_flag = emperor_trains
				add_to_variable = {
					var = trainingpips
					value = 1
				}
				if = {
					limit = {
						has_country_flag = attack1
					}
					set_country_flag = attack2
				}
				else = {
					set_country_flag = attack1
				}
			}
		}
		ai_will_do = {
			factor = 25
		}
	}

	FRA_the_emperor_trains_defense = {
		available = {

		}
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
		}
		cost = 0
		custom_cost_trigger = {
			command_power > 35
		}
		visible = {
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = defense2 }
			check_variable = {
				var = trainingpips
				value = 5
				compare = less_than
			}
		}
		custom_cost_text = custom_cost_35_cp

		days_remove = 45

		complete_effect = {
			hidden_effect = {
				add_command_power = -35
				set_country_flag = emperor_trains
			}
		}

		remove_effect = {
			every_unit_leader = {
				limit = {
					has_id = 104 #Napoleon
				}
				add_defense = 1
			}
			hidden_effect = {
				clr_country_flag = emperor_trains
				add_to_variable = {
					var = trainingpips
					value = 1
				}
				if = {
					limit = {
						has_country_flag = defense1
					}
					set_country_flag = defense2
				}
				else = {
					set_country_flag = defense1
				}
			}
		}
		ai_will_do = {
			factor = 25
		}
	}

	FRA_the_emperor_trains_logistics = {
		available = {

		}
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
		}
		cost = 0
		custom_cost_trigger = {
			command_power > 35
		}
		visible = {
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = logistics2 }
			check_variable = {
				var = trainingpips
				value = 5
				compare = less_than
			}
		}
		custom_cost_text = custom_cost_35_cp

		days_remove = 45

		complete_effect = {
			hidden_effect = {
				add_command_power = -35
				set_country_flag = emperor_trains
			}
		}

		remove_effect = {
			every_unit_leader = {
				limit = {
					has_id = 104 #Napoleon
				}
				add_logistics = 1
			}
			hidden_effect = {
				clr_country_flag = emperor_trains
				add_to_variable = {
					var = trainingpips
					value = 1
				}
				if = {
					limit = {
						has_country_flag = logistics1
					}
					set_country_flag = logistics2
				}
				else = {
					set_country_flag = logistics1
				}
			}
		}
		ai_will_do = {
			factor = 25
		}
	}

	FRA_the_emperor_trains_planning = {
		available = {

		}
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
		}
		cost = 0
		custom_cost_trigger = {
			command_power > 35
		}
		visible = {
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = planning2 }
			check_variable = {
				var = trainingpips
				value = 5
				compare = less_than
			}
		}
		custom_cost_text = custom_cost_35_cp

		days_remove = 45

		complete_effect = {
			hidden_effect = {
				add_command_power = -35
				set_country_flag = emperor_trains
			}
		}

		remove_effect = {
			every_unit_leader = {
				limit = {
					has_id = 104 #Napoleon
				}
				add_planning = 1
			}
			hidden_effect = {
				clr_country_flag = emperor_trains
				add_to_variable = {
					var = trainingpips
					value = 1
				}
				if = {
					limit = {
						has_country_flag = planning1
					}
					set_country_flag = planning2
				}
				else = {
					set_country_flag = planning1
				}
			}
		}
		ai_will_do = {
			factor = 25
		}
	}

	FRA_garde_imperiale_recruitment = {

		available = {
		}
		visible = {
			855 = {
				CONTROLLER = {
					OR = {
						is_in_faction_with = FRA
						original_tag = FRA
					}
				}
			}
			has_army_experience > 99
			has_completed_focus = FRA_revive_the_garde_imperiale
		}
		cost = 25
		ai_will_do = {
			factor = 25
		}
		days_re_enable = 30
		complete_effect = {
			army_experience = -100
			if = {
				limit = {
					has_template = "Garde Impériale"
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Garde Impériale\" start_experience_factor = 1"
						owner = ROOT
					}
				}
			}
			else = {
				division_template = {
					name = "Garde Impériale"
					division_names_group = FRA_GARDE_01
					priority = 2
					is_locked = yes

					regiments = {
						heavy_infantry = { x = 0 y = 0 }
						heavy_infantry = { x = 0 y = 1 }
						heavy_infantry = { x = 0 y = 2 }
						heavy_infantry = { x = 0 y = 3 }

						heavy_infantry = { x = 1 y = 0 }
						heavy_infantry = { x = 1 y = 1 }
						heavy_infantry = { x = 1 y = 2 }

						heavy_infantry = { x = 2 y = 0 }
						heavy_infantry = { x = 2 y = 1 }
						heavy_infantry = { x = 2 y = 2 }

						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
						anti_tank_brigade =  { x = 3 y = 3 }
					}

					support = {
						garde_imperiale_officers = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mobile_recon = { x = 0 y = 2 }
						heavy_artillery = { x = 0 y = 3 }
						motorized_logistics_company = { x = 0 y = 4 }
						artillery = { x = 1 y = 0 }
						signal_company = { x = 1 y = 1 }
						field_hospital = { x = 1 y = 2 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Garde Impériale\" start_experience_factor = 1"
						owner = ROOT
					}
				}
			}
		}
	}
}

FRA_vichy_france = {

	FRA_scuttle_the_fleet = {

		icon = generic_ignite_civil_war

		available = {
			tag = VIC
			has_government = fascism
			NOT = {
				GER = { divisions_in_state = { state = 21 size > 0 } }
			}
			has_country_flag = {
				flag = case_anton
				days > 2
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		visible = {
			tag = VIC
			has_government = fascism
			has_country_flag = case_anton
		}

		complete_effect = {
			set_country_flag = scuttled_fleet
			destroy_ships = {
				type = ship_hull_very_light
				count = all
			}
			destroy_ships = {
				type = ship_hull_light
				count = all
			}
			destroy_ships = {
				type = ship_hull_cruiser
				count = all
			}
			destroy_ships = {
				type = ship_hull_heavy_cruiser
				count = all
			}
			destroy_ships = {
				type = ship_hull_heavy
				count = all
			}
			destroy_ships = {
				type = ship_hull_heavy_battleship
				count = all
			}
			destroy_ships = {
				type = ship_hull_carrier
				count = all
			}
			destroy_ships = {
				type = ship_hull_light_carrier
				count = all
			}
			destroy_ships = {
				type = ship_hull_submarine
				count = all
			}
		}
	}

	FRA_case_anton_mission = {

		icon = generic_tank

		available = {
			is_subject = no
			has_war_with = GER
		}

		days_mission_timeout = 7
		fire_only_once = yes

		activation = {
			original_tag = VIC
			has_government = fascism
			NOT = { VIC = { has_war_with = GER } }
			has_country_flag = case_anton
		}

		complete_effect = {
			FRA = {
				add_legitimacy = 50
			}
			custom_effect_tooltip = FRA_case_anton_mission_tt
		}

		is_good = no

		timeout_effect = {
			FRA = {
				add_legitimacy = 50
			}
			transfer_navy = { target = GER }
			if = {
				limit = {
					NOT = { has_country_flag = scuttled_fleet }
				}
				GER = { news_event = { id = wtt_news.23 hours = 6 } }
			}
			if = {
				limit = {
					has_country_flag = scuttled_fleet
				}
				GER = { news_event = { id = wtt_news.24 hours = 6 } }
			}
			if = {
				limit = {
					FRA = { exists = yes }
				}
				hidden_effect = {
					every_state = {
						limit = {
							is_controlled_by = VIC
							NOT = { is_core_of = VIC }
							NOT = { state = 458 }
							NOT = { state = 665 }
						}
						FRA = { transfer_state = PREV }
					}
				}
			}
			GER = { annex_country = { target = ROOT } }
			set_global_flag = GER_case_anton
			add_to_variable = {
				var = ENG_med_control
				value = -20
			}
			add_to_variable = {
				var = ITA_med_control
				value = 20
			}
			custom_effect_tooltip = GAME_OVER_TT
		}
	}
	FRA_demand_unification_with_vichy = {
		available = {
			VIC = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			controls_state = 16 #Paris
		}

		visible = {
			NOT = {
				tag = VIC
			}
			country_exists = VIC
		}
		ai_will_do = {
			factor = 100
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			random_other_country = {
				limit = {
					tag = VIC
				}
				country_event = lar_france_vichy_reunification.1
			}
		}
	}
	FRA_failsafe_join_axis = {
		available = {
			tag = VIC
			NOT = {
				has_war_with = GER
				is_in_faction_with = GER
			}
			date > 1942.6.1
			FRA = {
				any_controlled_state = {
					NOT = { #algeria
						state = 459
						state = 460
						state = 513
					}
					is_core_of = FRA
				}
			}
		}
		visible = {
			is_ai = yes #if you are not a member of the dev team - avert thy eyes, traveller, for thou hath gazed upon my shame
		}
		ai_will_do = {
			factor = 10
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			set_rule = { can_join_factions = yes }
			GER = { add_to_faction = ROOT }
		}
	}
}

FRA_spanish_intervention_category = {
	FRA_invite_FROM_to_non_intervention = {
		available = {
			has_country_flag = FRA_non_intervention
		}
		target_array = global.majors

		target_trigger = {
			FROM = {
				exists = yes
				NOT = {
					has_country_flag = FRA_non_intervention_agreed
					has_country_flag = FRA_non_intervention_refused
				}
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		visible = {
			has_country_flag = FRA_non_intervention
		}
		target_root_trigger = {
			has_country_flag = FRA_non_intervention
		}
		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
				not = { has_government = democratic }
				factor = 0
			}
			modifier = {
				has_stability < 0.3
				factor = 5
			}
		}
		complete_effect = {
			FROM = {
				country_event = lar_non_intervention.1
			}
		}
	}

	FRA_allow_non_military_aid = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_non_military_aid_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_non_military_aid_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_non_military_aid_allowed
			clr_country_flag = FRA_non_intervention
			unlock_decision_tooltip = { decision = FRA_send_non_military_aid_to_FROM show_effect_tooltip = yes }
			unlock_decision_tooltip = FRA_ban_non_military_aid
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.3
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.05
		}
	}

	FRA_ban_non_military_aid = {
		available = {  }

		visible = { has_country_flag = FRA_non_military_aid_allowed }

		complete_effect = {
			clr_country_flag = FRA_non_military_aid_allowed
			set_country_flag = FRA_non_intervention
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.3
				add = 5
			}
		}
	}

	FRA_send_non_military_aid_to_FROM = {
		available = {
			has_equipment = {
				support_equipment > 99
			}
		}

		visible = { has_war = no has_country_flag = FRA_non_military_aid_allowed }
		target_root_trigger = { has_country_flag = FRA_non_military_aid_allowed }

		targets = { SPA SPR SPB SPC SPD }

		target_trigger = {
			FROM = {
				exists = yes
				has_war = yes
				NOT = { has_war_with = ROOT }
			}
		}
		days_re_enable = 30
		complete_effect = {
			send_equipment = {
				type = support_equipment
				amount = 100
				target = FROM
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				FROM = { has_government = ROOT }
				factor = 5
			}
		}
		cost = 0
	}
	FRA_allow_arms_purchases = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_arms_purchases_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_arms_purchases_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_arms_purchases_allowed
			clr_country_flag = FRA_non_intervention
			custom_effect_tooltip = FRA_allow_arms_purchases_tt
			unlock_decision_tooltip = FRA_ban_arms_purchases
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.4
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.1
			war_support_factor = 0.05
		}

	}

	FRA_ban_arms_purchases = {
		available = {  }

		visible = { has_country_flag = FRA_arms_purchases_allowed }

		complete_effect = {
			clr_country_flag = FRA_arms_purchases_allowed
			set_country_flag = FRA_non_intervention
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.4
				add = 5
			}
		}
	}

	FRA_allow_sending_weapons = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_sending_weapons_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_sending_weapons_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_sending_weapons_allowed
			clr_country_flag = FRA_non_intervention
			unlock_decision_tooltip = FRA_ban_sending_weapons
		}

		cost = 25
		days_remove = -1
		modifier = {
			stability_factor = -0.15
			war_support_factor = 0.075
			lend_lease_tension = -1
			request_lease_tension = -1
		}
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.45
				factor = 0
			}
		}
	}

	FRA_ban_sending_weapons = {
		available = {  }

		visible = { has_country_flag = FRA_sending_weapons_allowed }

		complete_effect = {
			clr_country_flag = FRA_sending_weapons_allowed
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.45
				add = 5
			}
		}
	}
	FRA_allow_volunteer_work = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_volunteer_work_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_volunteer_work_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_volunteer_work_allowed
			clr_country_flag = FRA_non_intervention
			unlock_decision_tooltip = FRA_ban_volunteer_work
			every_country = {
				limit = {
					OR = {
						tag = SPA
						tag = SPD
						tag = SPB
						tag = SPC
					}
					exists = yes
					NOT = { has_country_flag = FRA_has_received_volunteers }
				}
				country_event = lar_france_volunteers.1
			}
			custom_effect_tooltip = FRA_allow_volunteer_work_tt
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.5
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.2
			war_support_factor = 0.1
		}
	}

	FRA_ban_volunteer_work = {
		available = {  }

		visible = { has_country_flag = FRA_volunteer_work_allowed }

		complete_effect = {
			clr_country_flag = FRA_volunteer_work_allowed
		}
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.5
				add = 5
			}
		}
		cost = 0
	}
	FRA_allow_covert_intervention = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_covert_intervention_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_covert_intervention_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_covert_intervention_allowed
			clr_country_flag = FRA_non_intervention
			set_rule = { can_send_volunteers = yes }
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.55
				factor = 0
			}
			modifier = {
				has_stability < 0.8
				factor = 0.5
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.25
			war_support_factor = 0.125
			send_volunteers_tension = -0.9
		}
	}

	FRA_ban_covert_intervention = {
		available = {
			NOT = {
				any_other_country = {
					has_volunteers_amount_from = {
						tag = ROOT
						count > 0
					}
				}
			}
		}

		visible = { has_country_flag = FRA_covert_intervention_allowed }

		complete_effect = {
			clr_country_flag = FRA_covert_intervention_allowed
			#recall_volunteers_from = SPR
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.55
				add = 5
			}
		}
	}

	FRA_intervene_on_side_of_FROM = {
		available = {
			has_war_support > 0.25
			threat > 0.5
		}

		visible = { has_war = no }

		targets = { SPD SPA SPB SPR }

		target_trigger = {
			FROM = {
				original_tag = SPR
				has_government = ROOT
			}
		}

		complete_effect = {
			#This is not optimal, but it generates a beautiful tooltip
			add_stability = -0.3
			if = {
				limit = { FROM = { tag = SPD } }
				set_country_flag = supports_SPD_flag
				if = {
					limit = { country_exists = SPA }
					add_to_war = { targeted_alliance = SPD enemy = SPA hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPC }
					add_to_war = { targeted_alliance = SPD enemy = SPC hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPB }
					add_to_war = { targeted_alliance = SPD enemy = SPB hostility_reason = asked_to_join }
				}
			}
			else_if = {
				limit = { FROM = { tag = SPA } }
				set_country_flag = supports_SPA_flag
				if = {
					limit = { country_exists = SPD }
					add_to_war = { targeted_alliance = SPA enemy = SPD hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPC }
					add_to_war = { targeted_alliance = SPA enemy = SPC hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPB }
					add_to_war = { targeted_alliance = SPA enemy = SPB hostility_reason = asked_to_join }
				}
			}
			else_if = {
				limit = { FROM = { tag = SPB } }
				set_country_flag = supports_SPB_flag
				if = {
					limit = { country_exists = SPD }
					add_to_war = { targeted_alliance = SPB enemy = SPD hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPC }
					add_to_war = { targeted_alliance = SPB enemy = SPC hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPA }
					add_to_war = { targeted_alliance = SPB enemy = SPA hostility_reason = asked_to_join }
				}
			}

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				add_to_faction = FROM
			}
			clr_country_flag = FRA_non_intervention
			if = {
				limit = {
					has_country_flag = FRA_covert_intervention_allowed
				}
				clr_country_flag = FRA_covert_intervention_allowed
			}
			if = {
				limit = {
					has_country_flag = FRA_volunteer_work_allowed
				}
				clr_country_flag = FRA_volunteer_work_allowed
			}
			if = {
				limit = {
					has_country_flag = FRA_sending_weapons_allowed
				}
				clr_country_flag = FRA_sending_weapons_allowed
			}
			if = {
				limit = { has_country_flag = FRA_non_military_aid_allowed }
				clr_country_flag = FRA_non_military_aid_allowed
			}
			if = {
				limit = { has_country_flag = FRA_arms_purchases_allowed }
				clr_country_flag = FRA_arms_purchases_allowed
			}

		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 0
			}
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}

	}
}
economy_decisions = {

	FRA_revoke_the_matignon_agreements = {
		visible = { has_idea = FRA_matignon_agreements }

		cost = 50

		ai_will_do = {
			factor = 4000
			modifier = {
				OR = {
					communism > 0.25
					date < 1938.1.1
				}
				factor = 0
			}
		}

		complete_effect = {
			remove_ideas = FRA_matignon_agreements
			if = {
				limit = {
					communism > 0.25
				}
				country_event = lar_france_political_violence.2
			}
			custom_effect_tooltip = FRA_revoke_the_matignon_agreements_tt
			hidden_effect = {
				subtract_from_variable = { var = FRA_CGT_attitude value = 2 }
				subtract_from_variable = { var = FRA_CGT_political_power_gain value = 3 }
				FRA_political_instability_update_effect = yes
			}
		}
	}

	FRA_reorganize_aviation_industry_north = {
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCAN_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 29
						state = 785
						state = 15
						state = 16
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}

	}
	FRA_reorganize_aviation_industry_west = {
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCAO_formed
			random_owned_state = {
				prioritize = { 30 }
				limit = {
					OR = {
						state = 30
						state = 14
						state = 23
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_center = {
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCAC_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 24
						state = 33
						state = 27
						state = 26
						state = 25
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_south_east = {
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCASE_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 735
						state = 32
						state = 20
						state = 21
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_south_west = {
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCASO_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 22
						state = 31
						state = 19
						state = 25
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}
	}
}
political_actions = {

	FRA_professional_army_decision = {

		allowed = {
			original_tag = FRA
		}

		available = {
			original_tag = FRA
			has_war = no
			NOT = {
				OR = {
					has_idea = FRA_structured_doctrines
					has_idea = FRA_structured_doctrines_1
				}
			}
		}

		visible = {
			original_tag = FRA
			has_war = no
			check_variable = { var = FRA_French_Army_attitude value = 0 compare = greater_than_or_equals }
		}

		cost = 150
		fire_only_once = yes

		ai_will_do = {
			factor = 150
		}

		complete_effect = {
			add_ideas = FRA_professional_army
		}
	}

	FRA_rally_the_leagues = {
		available = { }

		visible = {
			has_completed_focus = FRA_utilize_the_leagues
			NOT = { has_government = fascism }
		}

		days_re_enable = 60

		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_stability = -0.03
		}
		ai_will_do = {
			factor = 5
			modifier = {
				has_stability < 0.3
				factor = 0
			}
		}
	}
	FRA_unleash_la_cagoule = {
		available = { }

		visible = {
			has_completed_focus = FRA_utilize_the_leagues
			NOT = { has_government = fascism }
		}
		days_re_enable = 30
		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_stability = -0.075
		}
		cost = 25
		ai_will_do = {
			factor = 5
			modifier = {
				has_stability < 0.3
				factor = 0
			}
		}
	}
	FRA_take_over_oversea_territories = {

		allowed = {
            always = yes
        }

        cost = 0
        fire_only_once = yes

        available = {
            original_tag = FRA
        }

        visible = {
        	original_tag = FRA
			is_ai = no
        }

        complete_effect = {
			annex_country = { target = FRO }
			add_equipment_to_stockpile = { type = fra_inf_1 amount = 1500 producer = FRA } #recalculated
		}
		ai_will_do = {
			factor = 0
		}
	}
}
VIC_concessions_to_the_germans = {
	VIC_basing_rights = {
		available = {

		}
		visible = {
			has_any_occupation_cost_trigger = yes
		}

		cost = 25

		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
				has_idea = FRA_occupation_costs_4
				factor = 5
			}
			modifier = {
				has_idea = FRA_occupation_costs_3
				factor = 2
			}
			modifier = {
				has_idea = FRA_occupation_costs_2
				factor = 1.5
			}
		}
		complete_effect = {
			give_military_access = GER
			#reduce_occupation_cost_effect = yes
		}
	}

	VIC_produce_aircraft_parts = {
		available = {}

		visible = {
			has_any_occupation_cost_trigger = yes
		}

		cost = 25

		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
				has_idea = FRA_occupation_costs_4
				factor = 5
			}
			modifier = {
				has_idea = FRA_occupation_costs_3
				factor = 2
			}
			modifier = {
				has_idea = FRA_occupation_costs_2
				factor = 1.5
			}
		}
		complete_effect = {
			add_ideas = VIC_produce_aircraft_parts
			GER = { add_ideas = VIC_aircraft_parts }
			#reduce_occupation_cost_effect = yes
		}
	}
	VIC_send_guest_workers = {
		available = {

		}
		visible = { has_any_occupation_cost_trigger = yes }
		cancel_trigger = {
			not = { has_country_flag = VIC_send_guest_workers }
		}
		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_idea = FRA_occupation_costs_4
				factor = 5
			}
			modifier = {
				has_idea = FRA_occupation_costs_3
				factor = 2
			}
			modifier = {
				has_idea = FRA_occupation_costs_2
				factor = 1.5
			}
		}
		fire_only_once = yes
		days_remove = -1
		modifier = {
			conscription_factor = -0.25
		}
		complete_effect = {
			GER = { add_ideas = VIC_guest_workers }
			#reduce_occupation_cost_effect = yes
			set_country_flag = VIC_send_guest_workers
		}
	}
	VIC_recall_guest_workers = {
		available = {
			has_country_flag = VIC_send_guest_workers
		}
		visible = {
			has_country_flag = VIC_send_guest_workers
		}
		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				controls_state = 16
				add = 10
			}
		}
		fire_only_once = yes
		complete_effect = {
			GER = { remove_ideas = VIC_guest_workers }
			# if = {
			# 	limit = {
			# 		NOT = {
			# 			controls_state = 16
			# 		}
			# 	}
			# 	#increase_occupation_cost_effect = yes
			# }
			if = {
				limit = {
					controls_state = 16
					has_idea = FRA_mandatory_work_service
				}
				remove_ideas = FRA_mandatory_work_service
			}
			clr_country_flag = VIC_send_guest_workers
		}
	}
}
FRA_intervention_in_overseas_territories = {
	FRA_promise_independence_to_north_africa = {
		available = {
			NOT = {
				FRA_controls_north_africa = yes
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_north_africa }

		complete_effect = {
			set_country_flag = FRA_north_africa_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				20 = {
					VIC = { country_event = LaR_france_vichy_notification_events.5 }
					FRA_transfer_north_africa_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 461
								state = 462
								state = 459
								state = 513
								state = 460
								state = 458
								state = 665
							}
						}
						add_compliance = 5
					}
				}
				80 = {

				}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}
	}
	FRA_prepare_coup_in_north_africa = {
		available = {
			NOT = {
				FRA_controls_north_africa = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_north_africa
		}

		complete_effect = {
			set_country_flag = FRA_coup_in_north_africa_flag
			custom_effect_tooltip = FRA_prepare_coup_tt


		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0 #at least until we know the AI can handle it
		}
	}
	FRA_promise_independence_to_syria = {
		available = {
			NOT = {
				FRA_controls_syria = yes
			}
		}

		visible = {
			has_completed_focus = FRA_intervention_in_syria
			NOT = {
				FRA_controls_syria = yes
			}
		}



		complete_effect = {
			set_country_flag = FRA_syria_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				30 = {
					VIC = { country_event = LaR_france_vichy_notification_events.1 }
					FRA_transfer_syria_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 677
								state = 680
								state = 554
								state = 553
							}
						}
						add_compliance = 5
					}
				}
				70 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}

	}
	FRA_prepare_coup_in_syria = {
		available = {
			NOT = {
				FRA_controls_syria = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_syria
			NOT = {
				FRA_controls_syria = yes
			}
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_syria_flag
		}

		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_invasion_in_syria = {
		available = {
			NOT = {
				FRA_controls_syria = yes
			}
			any_state = {
				OR = {
					state = 680
					state = 677
					state = 554
					state = 553
				}
				CONTROLLER = {
					NOT = {
						has_war_with = ROOT
					}
				}
				any_neighbor_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_syria }

		complete_effect = {
			random_state = { #find a neighbouring state of Syria that is controlled by an ally or ourselves
				limit = {
					OR = {
						state = 680
						state = 677
						state = 554
						state = 553
					}
					not = { is_controlled_by = ROOT }
					CONTROLLER = {
						NOT = { has_war_with = ROOT }
					}
					any_neighbor_state = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				save_event_target_as = FRA_defender_state
				random_neighbor_state = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
					save_event_target_as = FRA_attacker_state
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					division_template = {
						name = "Syria Intervention Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_attacker_state = { #set up attacker unit(s)
						create_unit = {
							division = "name = \"Gentforce 1\" division_template = \"Syria Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Gentforce 2\" division_template = \"Syria Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Gentforce 3\" division_template = \"Syria Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_defender_state = { #set up defender unit(s)
				CONTROLLER = {
					division_template = {
						name = "Syria Defense Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_defender_state = { #set up defenders
						create_unit = {
							division = "name = \"Syria Defense Force 1\" division_template = \"Syria Defense Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = event_target:FRA_attacker_state
							num_provinces = 4
							on_win = FRA_syria_intervention.1
							on_lose = FRA_syria_intervention.2
							on_cancel = FRA_syria_intervention.3
						}
						defender = {
							state = event_target:FRA_defender_state
							num_provinces = 4
							on_win = FRA_syria_intervention.2
							on_lose = FRA_syria_intervention.1
							on_cancel = FRA_syria_intervention.3
						}
					}
				}
			}

		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 5
		}

	}
	FRA_promise_independence_to_indochina = {
		available = {
			NOT = {
				FRA_controls_indochina = yes
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_indochina }



		complete_effect = {
			set_country_flag = FRA_indochina_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				20 = {
					VIC = { country_event = LaR_france_vichy_notification_events.2 }
					FRA_transfer_indochina_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 671
								state = 670
								state = 976
								state = 286
								state = 741
							}
						}
						add_compliance = 5
					}
				}
				80 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}
	}
	FRA_prepare_coup_in_indochina = {
		available = {
			NOT = {
				FRA_controls_indochina = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_indochina
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_indochina_flag
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_invasion_in_indochina = {
		available = {
			NOT = {
				FRA_controls_indochina = yes
			}
			any_state = {
				OR = {
					state = 671
					state = 670
					state = 976
					state = 286
					state = 741
				}
				CONTROLLER = {
					NOT = {
						has_war_with = ROOT
					}
				}
				any_neighbor_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_indochina }

		complete_effect = {
			random_state = { #find a neighbouring state of Syria that is controlled by an ally or ourselves
				limit = {
					OR = {
						state = 671
						state = 670
						state = 976
						state = 286
						state = 741
					}
					not = { is_controlled_by = ROOT }
					CONTROLLER = {
						NOT = { has_war_with = ROOT }
					}
					any_neighbor_state = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				save_event_target_as = FRA_defender_state
				random_neighbor_state = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
					save_event_target_as = FRA_attacker_state
				}
				event_target:FRA_attacker_state = {
					CONTROLLER = {
						division_template = {
							name = "Indochina Intervention Force"
							division_names_group = FRA_INF_01
							is_locked = yes
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }

								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
							}
							support = {
								engineer = { x = 0 y = 0 }
								artillery = {x = 0 y = 1 }
							}
						}
						event_target:FRA_attacker_state = { #set up attacker unit(s)
							create_unit = {
								division = "name = \"Indochina Force 1\" division_template = \"Indochina Intervention Force\" start_experience_factor = 0.5"
								owner = PREV
							}
							create_unit = {
								division = "name = \"Indochina Force 2\" division_template = \"Indochina Intervention Force\" start_experience_factor = 0.5"
								owner = PREV
							}
							create_unit = {
								division = "name = \"Indochina Force 3\" division_template = \"Indochina Intervention Force\" start_experience_factor = 0.5"
								owner = PREV
							}
						}
					}
				}
				event_target:FRA_defender_state = { #set up defender unit(s)
					CONTROLLER = {
						division_template = {
							name = "Indochina Defense Force"
							division_names_group = FRA_INF_01
							is_locked = yes
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }

								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
							}
							support = {
								engineer = { x = 0 y = 0 }
								artillery = {x = 0 y = 1 }
							}
						}
						event_target:FRA_defender_state = { #set up defenders
							create_unit = {
								division = "name = \"Indochina Defense Force 1\" division_template = \"Indochina Defense Force\" start_experience_factor = 0.5"
								owner = PREV
							}
						}
					}
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = event_target:FRA_attacker_state
							num_provinces = 4
							on_win = FRA_indochina_intervention.1
							on_lose = FRA_indochina_intervention.2
							on_cancel = FRA_indochina_intervention.3
						}
						defender = {
							state = event_target:FRA_defender_state
							num_provinces = 4
							on_win = FRA_indochina_intervention.2
							on_lose = FRA_indochina_intervention.1
							on_cancel = FRA_indochina_intervention.3
						}
					}
				}
			}

		}
		fire_only_once = yes
		ai_will_do = {
			factor = 0
		}
		cost = 25
	}
	FRA_promise_independence_to_central_africa = {
		available = {
			NOT = {
				FRA_controls_central_africa = yes
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_central_africa }



		complete_effect = {
			set_country_flag = FRA_central_africa_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				25 = {
					VIC = { country_event = LaR_france_vichy_notification_events.3 }
					FRA_transfer_central_africa_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 772
								state = 539
								state = 773
								state = 660
								state = 774
							}
						}
						add_compliance = 5
					}
				}
				75 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}

	}
	FRA_prepare_coup_in_central_africa = {
		available = {
			NOT = {
				FRA_controls_central_africa = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_central_africa
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_central_africa_flag
		}

		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_invasion_in_central_africa = {
		available = {
			NOT = {
				FRA_controls_central_africa = yes
			}
			any_state = {
				OR = {
					state = 772
					state = 539
					state = 773
					state = 660
					state = 774
				}
				CONTROLLER = {
					NOT = { has_war_with = ROOT }
				}
				any_neighbor_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_central_africa }

		complete_effect = {
			random_state = { #find a neighbouring state of Syria that is controlled by an ally or ourselves
				limit = {
					OR = {
						state = 772
						state = 539
						state = 773
						state = 660
						state = 774
					}
					not = { is_controlled_by = ROOT }
					CONTROLLER = {
						NOT = { has_war_with = ROOT }
					}
					any_neighbor_state = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				save_event_target_as = FRA_defender_state
				random_neighbor_state = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
					save_event_target_as = FRA_attacker_state
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					division_template = {
						name = "Central Africa Intervention Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
						}
					}
					event_target:FRA_attacker_state = { #set up attacker unit(s)
						create_unit = {
							division = "name = \"Central Africa Force 1\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Central Africa Force 2\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Central Africa Force 3\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Central Africa Force 4\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Central Africa Force 5\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_defender_state = { #set up defender unit(s)
				CONTROLLER = {
					division_template = {
						name = "Central Africa Defense Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_defender_state = { #set up defenders
						create_unit = {
							division = "name = \"Central Africa Defense Force 1\" division_template = \"Central Africa Defense Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = event_target:FRA_attacker_state
							num_provinces = 4
							on_win = FRA_central_africa_intervention.1
							on_lose = FRA_central_africa_intervention.2
							on_cancel = FRA_central_africa_intervention.3
						}
						defender = {
							state = event_target:FRA_defender_state
							num_provinces = 4
							on_win = FRA_central_africa_intervention.2
							on_lose = FRA_central_africa_intervention.1
							on_cancel = FRA_central_africa_intervention.3
						}
					}
				}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_promise_independence_to_west_africa = {
		available = {
			NOT = {
				FRA_controls_west_africa = yes
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_west_africa }



		complete_effect = {
			set_country_flag = FRA_west_africa_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				25 = {
					VIC = { country_event = LaR_france_vichy_notification_events.4 }
					FRA_transfer_western_africa_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 557
								state = 272
								state = 556
								state = 780
								state = 779
								state = 778
								state = 781
								state = 776
							}
						}
						add_compliance = 5
					}
				}
				75 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}
	}
	FRA_prepare_coup_in_west_africa = {
		available = {
			NOT = {
				FRA_controls_west_africa = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_west_africa
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_west_africa_flag

		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_invasion_in_west_africa = {
		available = {
			NOT = {
				FRA_controls_west_africa = yes
			}
			any_state = {
				OR = {
					state = 557
					state = 272
					state = 556
					state = 780
					state = 779
					state = 778
					state = 781
					state = 776
				}
				CONTROLLER = {
					NOT = { has_war_with = ROOT }
				}
				any_neighbor_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_west_africa }

		complete_effect = {
			random_state = { #find a neighbouring state of Syria that is controlled by an ally or ourselves
				limit = {
					OR = {
						state = 557
						state = 272
						state = 556
						state = 780
						state = 779
						state = 778
						state = 781
						state = 776
					}
					not = { is_controlled_by = ROOT }
					CONTROLLER = {
						NOT = { has_war_with = ROOT }
					}
					any_neighbor_state = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				save_event_target_as = FRA_defender_state
				random_neighbor_state = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
					save_event_target_as = FRA_attacker_state
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					division_template = {
						name = "West Africa Intervention Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_attacker_state = { #set up attacker unit(s)
						create_unit = {
							division = "name = \"West Africa Force 1\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"West Africa Force 2\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"West Africa Force 3\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"West Africa Force 4\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"West Africa Force 5\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_defender_state = { #set up defender unit(s)
				CONTROLLER = {
					division_template = {
						name = "West Africa Defense Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_defender_state = { #set up defenders
						create_unit = {
							division = "name = \"West Africa Defense Force 1\" division_template = \"West Africa Defense Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = event_target:FRA_attacker_state
							num_provinces = 4
							on_win = FRA_west_africa_intervention.1
							on_lose = FRA_west_africa_intervention.2
							on_cancel = FRA_west_africa_intervention.3
						}
						defender = {
							state = event_target:FRA_defender_state
							num_provinces = 4
							on_win = FRA_west_africa_intervention.2
							on_lose = FRA_west_africa_intervention.1
							on_cancel = FRA_west_africa_intervention.3
						}
					}
				}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}

	FRA_promise_independence_to_madagascar = {
		available = {
			NOT = {
				543 = {
					OR = {
						is_controlled_by = ROOT
						CONTROLLER = {
							is_subject_of = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_madagascar }

		complete_effect = {
			set_country_flag = FRA_madagascar_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				30 = {
					VIC = { country_event = LaR_france_vichy_notification_events.6 }
					transfer_state = 543
					543 = {
						add_compliance = 5
					}
				}
				70 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}
	}
	FRA_prepare_coup_in_madagascar = {
		available = {
			NOT = {
				543 = {
					OR = {
						is_controlled_by = ROOT
						CONTROLLER = {
							is_subject_of = ROOT
						}
					}
				}
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_madagascar
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_madagascar_flag

		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
}
FRA_decolonization = {
	FRA_independence_for_syria_mission = {
		available = {
			country_exists = LEB
			country_exists = SYR
		}

		activation = {
			has_country_flag = FRA_syria_promised_independence
			has_war = no
			NOT = {
				country_exists = SYR
				country_exists = LEB
			}
			680 = { is_controlled_by = ROOT }
			677 = { is_controlled_by = ROOT }
			554 = { is_controlled_by = ROOT }
			553 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = LEB
						is_core_of = SYR
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_indochina_mission = {
		available = {
			country_exists = LAO
			country_exists = CAM
			country_exists = VIN
		}

		activation = {
			has_country_flag = FRA_indochina_promised_independence
			has_war = no
			NOT = {
				country_exists = CAM
				country_exists = LAO
				country_exists = VIN
			}
			671 = { is_controlled_by = ROOT }
			670 = { is_controlled_by = ROOT }
			286 = { is_controlled_by = ROOT }
			976 = { is_controlled_by = ROOT }
			741 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = LAO
						is_core_of = CAM
						is_core_of = VIN
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_madagascar_mission = {
		available = {
			country_exists = MAD
		}

		activation = {
			has_country_flag = FRA_madagascar_promised_independence
			has_war = no
			NOT = {
				country_exists = MAD
			}
			543 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			543 = {
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_north_africa_mission = {
		available = {
			country_exists = ALG
			country_exists = MOR
			country_exists = TUN
		}

		activation = {
			has_country_flag = FRA_north_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = MOR
				country_exists = ALG
				country_exists = TUN
			}
			461 = { is_controlled_by = ROOT }
			462 = { is_controlled_by = ROOT }
			459 = { is_controlled_by = ROOT }
			513 = { is_controlled_by = ROOT }
			460 = { is_controlled_by = ROOT }
			458 = { is_controlled_by = ROOT }
			665 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = ALG
						is_core_of = MOR
						is_core_of = TUN
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_west_africa_mission = {
		available = {
			country_exists = NGR
			country_exists = DAH
			country_exists = TOG
			country_exists = VOL
			country_exists = IVO
			country_exists = MLI
			country_exists = GNA
			country_exists = SEN
			country_exists = MRT

		}

		activation = {
			has_country_flag = FRA_west_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = NGR
				country_exists = DAH
				country_exists = TOG
				country_exists = VOL
				country_exists = IVO
				country_exists = MLI
				country_exists = GNA
				country_exists = SEN
				country_exists = MRT
			}
			FRA_controls_west_africa = yes
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = NGR
						is_core_of = DAH
						is_core_of = TOG
						is_core_of = VOL
						is_core_of = IVO
						is_core_of = MLI
						is_core_of = GNA
						is_core_of = SEN
						is_core_of = MRT
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_central_africa_mission = {
		available = {
			country_exists = RCG
			country_exists = GAB
			country_exists = CAR
			country_exists = CMR
			country_exists = CHA

		}

		activation = {
			has_country_flag = FRA_central_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = RCG
				country_exists = GAB
				country_exists = CAR
				country_exists = CMR
				country_exists = CHA
			}
			FRA_controls_central_africa = yes
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = RCG
						is_core_of = GAB
						is_core_of = CAR
						is_core_of = CMR
						is_core_of = CHA
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
}

war_measures = {
	FRA_relocate_capital_from_paris = {
		icon = generic_operation
		available = {
			tag = FRA
			has_war = yes
			has_civil_war = no
			NOT = { controls_state = 16 }
			has_capitulated = no
		}
		visible = {
			tag = FRA
			has_war = yes
			has_capitulated = no
		}

		days_remove = 14
		is_good = yes
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 150

			modifier = {
				factor = 0
				date > 1943.1.1
			}
		}

		remove_effect = {
			set_capital = { state = 19 }
		}
	}
	FRA_order_weapons_in_USA = {
		icon = generic_prepare_civil_war
		allowed = {
		        tag = FRA
	        }
		available = {
			USA = { has_completed_focus = USA_cash_and_carry_act }
			num_of_civilian_factories_available_for_projects > 19
			USA = { has_war = no }
		}
		visible = {
			has_war = yes
			USA = { has_government = ROOT }
			NOT = { USA = { has_completed_focus = USA_lend_lease_act } }
		}
		days_remove = 60
		cost = 20
		ai_will_do = {
			factor = 50
		}
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 20
		}
		complete_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = 15 } }
		}
		remove_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = -15 } }
			if = {
				limit = {
					USA = { has_tech = usa_infantry_weapons_3 }
				}
				add_equipment_to_stockpile = { type = usa_inf_3 amount = 2500 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_infantry_weapons_2 }
				}
				add_equipment_to_stockpile = { type = usa_inf_2 amount = 2500 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_inf_1 amount = 2500 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_heavy_infantry_weapons_3 }
				}
				add_equipment_to_stockpile = { type = usa_hv_inf_3 amount = 2500 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_heavy_infantry_weapons_2 }
				}
				add_equipment_to_stockpile = { type = usa_hv_inf_2 amount = 2500 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_hv_inf_1 amount = 2500 producer = USA }
			}
		}
	}
	FRA_order_artillery_in_USA = {
		icon = ger_military_buildup
		allowed = {
		        tag = FRA
	        }
		available = {
			USA = { has_completed_focus = USA_cash_and_carry_act }
			num_of_civilian_factories_available_for_projects > 19
			USA = { has_war = no }
		}
		visible = {
			has_war = yes
			USA = { has_government = ROOT }
			NOT = { USA = { has_completed_focus = USA_lend_lease_act } }
		}
		days_remove = 60
		cost = 20
		ai_will_do = {
			factor = 50
		}
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 20
		}
		complete_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = 15 } }
		}
		remove_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = -15 } }
			if = {
				limit = {
					USA = { has_tech = usa_artillery_3 }
				}
				add_equipment_to_stockpile = { type = usa_art_3 amount = 160 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_artillery_2 }
				}
				add_equipment_to_stockpile = { type = usa_art_2 amount = 160 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_art_1 amount = 160 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_heavy_artillery_2 }
				}
				add_equipment_to_stockpile = { type = usa_hv_art_2 amount = 30 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_hv_art_1 amount = 30 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_anti_tank_3 }
				}
				add_equipment_to_stockpile = { type = usa_at_3 amount = 250 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_anti_tank_2 }
				}
				add_equipment_to_stockpile = { type = usa_at_2 amount = 250 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_at_1 amount = 250 producer = USA }
			}
		}
	}
	FRA_order_tanks_in_USA = {
		icon = generic_air
		allowed = {
		        tag = FRA
	        }
		available = {
			USA = { has_completed_focus = USA_cash_and_carry_act }
			num_of_civilian_factories_available_for_projects > 19
			USA = { has_war = no }
		}
		visible = {
			has_war = yes
			USA = { has_government = ROOT }
			NOT = { USA = { has_completed_focus = USA_lend_lease_act } }
			NOT = { has_dlc = "No Step Back" }
		}
		
		days_remove = 60
		cost = 20
		ai_will_do = {
			factor = 50
		}
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 20
		}
		complete_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = 15 } }
		}
		remove_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = -15 } }
			if = {
				limit = {
					USA = { has_tech = usa_medium_4 }
				}
				add_equipment_to_stockpile = { type = usa_medium_equipment_4 amount = 100 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_3 }
				}
				add_equipment_to_stockpile = { type = usa_medium_equipment_3 amount = 100 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_2 }
				}
				add_equipment_to_stockpile = { type = usa_medium_equipment_2 amount = 100 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_medium_equipment_1 amount = 100 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_light_4 }
				}
				add_equipment_to_stockpile = { type = usa_light_equipment_4 amount = 250 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_light_3 }
				}
				add_equipment_to_stockpile = { type = usa_light_equipment_3 amount = 250 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_light_2 }
				}
				add_equipment_to_stockpile = { type = usa_light_equipment_2 amount = 250 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_light_equipment_1 amount = 250 producer = USA }
			}
		}
	}
	FRA_order_tanks_in_USA_nsb = {
		icon = generic_air
		allowed = {
		        tag = FRA
	        }
		available = {
			USA = { has_completed_focus = USA_cash_and_carry_act }
			num_of_civilian_factories_available_for_projects > 19
			USA = { has_war = no }
		}
		visible = {
			has_war = yes
			USA = { has_government = ROOT }
			NOT = { USA = { has_completed_focus = USA_lend_lease_act } }
			has_dlc = "No Step Back" 
		}
		days_remove = 60
		cost = 20
		ai_will_do = {
			factor = 50
		}
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 20
		}
		complete_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = 15 } }
		}
		remove_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = -15 } }
			if = {
				limit = {
					USA = { has_tech = usa_medium_tank_chassis_4 }
				}
				add_equipment_to_stockpile = { type = tank_usa_medium_chassis_4 amount = 100 producer = USA variant_name = "M4A2 Sherman" }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_usa_medium_chassis_3 amount = 100 producer = USA variant_name = "M4A1 Sherman" }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_tank_chassis_2 }
				}
				add_equipment_to_stockpile = { type = tank_usa_medium_chassis_2 amount = 100 producer = USA variant_name = "M3 Lee" }
			}
			else = {
				add_equipment_to_stockpile = { type = tank_usa_medium_chassis_1 amount = 100 producer = USA variant_name = "M2 Medium" }
			}
			if = {
				limit = {
					USA = { has_tech = usa_light_tank_chassis_4 }
				}
				add_equipment_to_stockpile = { type = tank_usa_light_chassis_4 amount = 250 producer = USA variant_name = "M24 Chaffee" }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_light_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_usa_light_chassis_3 amount = 250 producer = USA variant_name = "M5 Stuart" }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_light_tank_chassis_2 }
				}
				add_equipment_to_stockpile = { type = tank_usa_light_chassis_2 amount = 250 producer = USA variant_name = "M3 Stuart" }
			}
			else = {
				add_equipment_to_stockpile = { type = tank_usa_light_chassis_1 amount = 250 producer = USA variant_name = "M2 Light" }
			}
		}
	}
	FRA_order_fighters_in_USA = {
		icon = generic_air
		allowed = {
		        tag = FRA
	        }
		available = {
			USA = { has_completed_focus = USA_cash_and_carry_act }
			num_of_civilian_factories_available_for_projects > 19
			USA = { has_war = no }
		}
		visible = {
			has_war = yes
			USA = { has_government = ROOT }
			NOT = { USA = { has_completed_focus = USA_lend_lease_act } }
		}
		days_remove = 60
		cost = 20
		ai_will_do = {
			factor = 50
		}
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 20
		}
		complete_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = 15 } }
		}
		remove_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = -15 } }
			if = {
				limit = {
					USA = { has_tech = usa_fighter_multirole_3 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_multirole_equipment_3 amount = 250 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_multirole_2 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_multirole_equipment_2 amount = 250 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_fighter_multirole_equipment_1 amount = 250 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_fighter_5 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_5 amount = 250 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_4 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_4 amount = 250 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_3 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_3 amount = 250 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_2 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_2 amount = 250 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_fighter_equipment_1 amount = 250 producer = USA }
			}
		}
	}
	FRA_order_bombers_in_USA = {
		icon = generic_air
		allowed = {
		        tag = FRA
	        }
		available = {
			USA = { has_completed_focus = USA_cash_and_carry_act }
			num_of_civilian_factories_available_for_projects > 19
			USA = { has_war = no }
		}
		visible = {
			has_war = yes
			USA = { has_government = ROOT }
			NOT = { USA = { has_completed_focus = USA_lend_lease_act } }
		}
		days_remove = 60
		cost = 20
		ai_will_do = {
			factor = 50
		}
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 20
		}
		complete_effect = {
		USA = {add_offsite_building = {
		               type = industrial_complex
		               level = 15 } }
		}
		remove_effect = {
			USA = {add_offsite_building = {
		               type = industrial_complex
		               level = -15 } }
			if = {
				limit = {
					USA = { has_tech = usa_tactical_bomber_6 }
				}
				add_equipment_to_stockpile = { type = usa_tac_bomber_equipment_6 amount = 100 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_tactical_bomber_5 }
				}
				add_equipment_to_stockpile = { type = usa_tac_bomber_equipment_5 amount = 100 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_tactical_bomber_4 }
				}
				add_equipment_to_stockpile = { type = usa_tac_bomber_equipment_4 amount = 100 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_tactical_bomber_3 }
				}
				add_equipment_to_stockpile = { type = usa_tac_bomber_equipment_3 amount = 100 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_tactical_bomber_2 }
				}
				add_equipment_to_stockpile = { type = usa_tac_bomber_equipment_2 amount = 100 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_tac_bomber_equipment_1 amount = 100 producer = USA }
			}
		}
	}

#	FRA_partial_reactiviation_of_ww1_equipment = {
#
#		icon = generic_prepare_civil_war
#
#		allowed = {
#			tag = FRA
#		}
#
#		available = {
#			tag = FRA
#			OR = {
#				has_war = yes
#				threat > 0.2
#			}
#		}
#
#		visible = {
#			OR = {
#				has_war = yes
#				threat > 0.1
#			}
#		}
#
#		cost = 0
#		fire_only_once = yes
#
#		ai_will_do = {
#			factor = 500
#		}
#
#		days_remove = 10
#		is_good = yes
#
#		modifier = {
#		}
#
#		complete_effect = {
#			hidden_effect = {
#				set_country_flag = wwi_equipment_1
#			}
#		}
#
#		remove_effect = {
#			hidden_effect = {
#				set_country_flag = wwi_equipment_1
#			}
#			add_equipment_to_stockpile = { type = fra_inf_1 amount = 30000 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_hv_inf_1 amount = 5000 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_art_0 amount = 150 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_hv_art_0 amount = 50 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_interwar_equipment_1 amount = 500 producer = FRA }
#			add_equipment_to_stockpile = { type = support_equipment_1 amount = 1500 producer = FRA }
#		}
#	}

#	FRA_total_reactiviation_of_ww1_equipment = {
#
#		icon = generic_prepare_civil_war
#
#		allowed = {
#			tag = FRA
#		}
#
#		available = {
#			tag = FRA
#			OR = {
#				has_war = yes
#				threat > 0.5
#			}
#		}
#
#		visible = {
#			OR = {
#				has_war = yes
#				threat > 0.2
#			}
#			has_country_flag = wwi_equipment_1
#		}
#
#		cost = 0
#		fire_only_once = yes
#
#		ai_will_do = {
#			factor = 500
#		}
#
#		days_remove = 10
#		is_good = yes
#
#		modifier = {
#		}
#
#		complete_effect = {
#			hidden_effect = {
#				set_country_flag = wwi_equipment_2
#			}
#		}
#
#		remove_effect = {
#			hidden_effect = {
#				set_country_flag = wwi_equipment_2
#			}
#			add_equipment_to_stockpile = { type = fra_inf_1 amount = 30000 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_hv_inf_1 amount = 5000 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_art_0 amount = 150 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_hv_art_0 amount = 50 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_interwar_equipment_1 amount = 500 producer = FRA }
#			add_equipment_to_stockpile = { type = support_equipment_1 amount = 1500 producer = FRA }
#		}
#	}
}

### #  # ###  #  #  ### ### ###  #   #    ###  #### #     ##   ##   ##  ### ###  ##  #  #
#  ## # #  # #  # #     #  #  #  # #     #  # #    #    #  # #  # #  #  #   #  #  # ## #
#  # ## #  # #  #   #   #  ###    #      ###  ##   #    #  # #    ####  #   #  #  # # ##
#  #  # #  # #  #    #  #  #  #   #      #  # #    #    #  # #  # #  #  #   #  #  # #  #
### #  # ###   ##  ###   #  #  #   #      #  # #### ####  ##   ##  #  #  #  ###  ##  #  #

#Category only allowed for FRA
FRA_industry_relocation = {

	FRA_relocate_industry_from_nord_pas_de_calais_area = {

		icon = generic_construction

		highlight_states = { highlight_state_targets = { state = 29 } }

		available = {
			controls_state = 29
			controls_state = 23
		}

		visible = {
			has_war = yes
			owns_state = 29
			owns_state = 23
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 29
					controls_state = 23
				}
				29 = { #Nord-Pas-de-Calais

					remove_building = {
						type = arms_factory
						level = 5
					}
					remove_building = {
						type = industrial_complex
						level = 9
					}
					remove_building = {
						type = steel_refinery
						level = 1
					}
				}
				23 = { #Poitou
					add_extra_state_shared_building_slots = 15
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 9
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 1
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = steel_refinery damage = 0.3 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	FRA_relocate_industry_from_picardie_area = {

		icon = generic_construction

		highlight_states = { highlight_state_targets = { state = 785 } }

		available = {
			controls_state = 785
			controls_state = 33
		}

		visible = {
			has_war = yes
			owns_state = 785
			owns_state = 33
		}

		fire_only_once = yes

		cost = 10
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 785
					controls_state = 33
				}
				785 = { #Picardy

					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = aluminium_refinery
						level = 2
					}
				}
				33 = { #Centre-Sud
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = aluminium_refinery
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = aluminium_refinery damage = 0.3 }
						damage_building = { type = aluminium_refinery damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	FRA_relocate_industry_from_champagne_area = {

		icon = generic_construction

		highlight_states = { highlight_state_targets = { state = 18 } }

		available = {
			controls_state = 18
			controls_state = 33
		}

		visible = {
			has_war = yes
			owns_state = 33
			owns_state = 18
		}

		fire_only_once = yes

		cost = 10
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 18
					controls_state = 33
				}
				18 = { #Champagne

					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = steel_refinery
						level = 2
					}
				}
				33 = { #Centre-Sud
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	FRA_relocate_industry_from_franche_comte_area = {

		icon = generic_construction

		highlight_states = { highlight_state_targets = { state = 17 } }

		available = {
			controls_state = 17
			controls_state = 25
		}

		visible = {
			has_war = yes
			owns_state = 17
			owns_state = 25
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 17
					controls_state = 25
				}
				17 = { #Franche-comte
					remove_building = {
						type = arms_factory
						level = 3
					}
					remove_building = {
						type = industrial_complex
						level = 4
					}
					remove_building = {
						type = steel_refinery
						level = 5
					}
				}
				25 = { #Limousin
					add_extra_state_shared_building_slots = 12
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 5
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	FRA_relocate_industry_from_alsace_lorraine_area = {

		icon = generic_construction

		highlight_states = { highlight_state_targets = { state = 28 } }

		available = {
			controls_state = 28
			controls_state = 19
		}

		visible = {
			has_war = yes
			owns_state = 28
			owns_state = 19
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 17
					controls_state = 25
				}
				28 = { #Alsace-Lorraine
					remove_building = {
						type = industrial_complex
						level = 5
					}
					remove_building = {
						type = steel_refinery
						level = 5
					}
				}
				19 = { #Aquitaine
					add_extra_state_shared_building_slots = 10
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 5
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}
}

operations = {
	FRA_operation_overlord = {

		icon = generic_operation

		allowed = {
			always = yes
		}

		available = {
			original_tag = FRA
			is_in_faction_with = ENG
			is_in_faction_with = USA
			USA = { has_government = democratic }
			ENG = { has_government = democratic }
			GER = { has_government = fascism }
			has_country_flag = operation_overlord_FRA
			GER = { exists = yes }
		}

		visible = {
			original_tag = FRA
			is_in_faction_with = ENG
			is_in_faction_with = USA
			USA = { has_government = democratic }
			ENG = { has_government = democratic }
			GER = { has_government = fascism }
			has_country_flag = operation_overlord_FRA
			GER = { exists = yes }
		}

		cost = 0
		fire_only_once = yes
		days_remove = 360

		ai_will_do = {
			factor = 150
		}

		targeted_modifier = {
			tag = GER
			attack_bonus_against = 0.1
		}

		modifier = {
			consumer_goods_factor = -0.2
			industry_repair_factor = 1.0
			industry_free_repair_factor = 100
			supply_consumption_factor = -0.4
		}
	}

	topple_the_vichy_regime = {

		icon = generic_operation

		allowed = {
			tag = FRA
		}

		available = {
			tag = FRA
			has_government = democratic
			country_exists = VIC
			date > 1942.1.1
		}

		visible = {
			tag = FRA
			country_exists = VIC
		}

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				add = 10

				date > 1942.10.1
				is_in_faction = no
			}
			modifier = {
				add = 10

				date > 1942.10.1
				118 = { is_controlled_by = ENG }
			}
		}

		complete_effect = {
			FRA = {
				declare_war_on = {
					target = VIC
					type = annex_everything
				}
			}
		}
	}

	FRA_activate_Dyle_Plan = {

		icon = generic_operation

		allowed = {
			original_tag = FRA
		}

		available = {
			original_tag = FRA
			has_war_with = GER
			is_in_faction_with = BEL
			GER = { has_war_with = BEL }
			has_completed_focus = FRA_prepare_war_plans
		}

		visible = {
			original_tag = FRA
			has_war_with = GER
			GER = { exists = yes }
			has_completed_focus = FRA_prepare_war_plans
		}

		cost = 10
		days_remove = 10
		fire_only_once = yes

		ai_will_do = {
			factor = 4000
		}

		remove_trigger = {
			BEL = { has_capitulated = yes }
		}

		modifier = {
			dig_in_speed_factor = 0.5
			org_loss_when_moving = -0.2
		}
	}
}

special_projects = {

	FRA_build_the_mareth_line = {

		icon = generic_construction

		visible = {
			OR = {
				controls_state = 665
				any_other_country = {
					is_puppet_of = ROOT
					controls_state = 665
				}
			}
		}
		
		available = {
			OR = {
				controls_state = 665
				any_other_country = {
					is_puppet_of = ROOT
					controls_state = 665
				}
			}
		}

		cost = 50
		fire_only_once = yes

		days_remove = 40

		highlight_states = {
			highlight_state_targets = {
				state = 665
			}
		}

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			665 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = {
						id = 7005
						id = 10082
					}
				}
			}
		}

		ai_will_do = {
			factor = 400
		}

	}
}
